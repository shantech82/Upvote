<app-app-home></app-app-home>
<div class="alertCenter">
  <nac-alert-center [animation]="'fancy'" [htmlTextEnabled]="true"></nac-alert-center>
</div>
<div>
  <div class="pro_info" *ngIf="forminitialization">
    <div class="container">
      <div class="row">
        <div class="col-md-2 col-lg-2 col-sm-4 col-xs-12">
          <div class="pro_img_holder">
            <img [src]="ico.icologoimage || '..\assets\img\icoimagecard.jpg'" class="img-circle">
          </div>
        </div>
        <div class="col-md-10 col-lg-10 col-sm-8 col-xs-12">
          <div class="pro_info_content">
            <h1>{{ ico.iconame }}</h1>
            <p class="block-with-text">{{ ico.shortdescription }}</p>
            <div class="pro_tag WhitePaper" *ngIf="ico.whitepaper">
              <a [attr.href]="ico.whitepaper" target="_blank">White Paper</a>
            </div>
            <div class="join_whitelist" *ngIf="!ico.iswhitelistjoined">Join Whitelist</div>
            <div class="join_whitelist" *ngIf="ico.iswhitelistjoined">Whitelisted</div>
            <div class="pro_social">
              <ul>
                <li *ngIf="ico.smn_youtube">
                  <a [attr.href]="ico.smn_facebook" target="_blank">
                    <i class="fa fa-facebook"></i>
                  </a>
                </li>
                <li *ngIf="ico.smn_youtube">
                  <a [attr.href]="ico.smn_twitter" target="_blank">
                    <i class="fa fa-twitter"></i>
                  </a>
                </li>
                <li *ngIf="ico.smn_youtube">
                  <a [attr.href]="ico.smn_youtube" target="_blank">
                    <i class="fa fa-youtube"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="pro_bg">
    <div *ngIf="todaylivestream">
      <input type="text" [(ngModel)]="todaylivestream.livestreamcode" name="room-id" id="room-id" style="display: none;">
      <div class="container" *ngIf="userType===1 && todaylivestream">
        <button type="button" id="startlive" name="startlive" *ngIf="!isLiveStreaming" (click)="startLiveStream()" class="btn stream_btn">
          ► Start live streaming </button>
        <button type="button" id="stoplive" name="stoplive" *ngIf="isLiveStreaming" (click)="stopLiveStream()" class="btn stream_btn stop">
          ► Stop live streaming </button>
      </div>
      <div class="container" *ngIf="userType===0">
        <button type="button" id="joinlive" *ngIf="isLiveStreaming && !livestreamjoined" (click)="joinLiveStream()" name="joinlive"
          class="btn stream_btn"> ► Join live streaming </button>
        <button type="button" id="leavelive" *ngIf="isLiveStreaming && livestreamjoined" name="leavelive" (click)="leaveLiveStream()"
          class="btn stream_btn stop"> ► leave live streaming </button>
      </div>
    </div>
    <!--- stream chat  *ngIf="isLiveStreaming" -->
    <div class="chat_profile" id="livstream" style="display: none">
      <div class="container">
        <div class="row">
          <div class="col-md-8 col-lg-8 col-xs-12 col-sm-12">
            <div id="videos-container"></div>
          </div>
          <div class="col-md-4 col-lg-4 col-xs-12 col-sm-12" style="padding-top: 20px">
            <div class="chat_box">
              <h5>CHAT</h5>
              <ul class="chatul"></ul>
              <div class="chat_input">
                <div class="input-group">
                  <input type="text" id="input-text-chat" class="form-control chat_inp" placeholder="write your message">
                  <span class="input-group-addon">
                    <img src="../assets/img/btn-send.png">
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--- stream chat ---->
    <div class="container" *ngIf="forminitialization">
      <div class="row">
        <div class="col-md-8 col-lg-8 col-sm-12 col-xs-12">
          <div class="row">
            <div class="col-md-11 col-lg-11 col-sm-12 col-xs-12">
              <div class="video_container">
                <video width="100%" height="420px" controls>
                  <source src="https://www.youtube.com/watch?v=C0DPdy98e4c" type="video/mp4"> Your browser does not support the video tag.
                </video>
                <div class="play_pause">
                  <img src="..\assets\img\btn-play.png">
                </div>
              </div>
              <div class="summary">
                <p>
                  {{ ico.long_description }}
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">
          <div class="event_container">
            <div class="calendar">
              <div class="calendar_head">
                <div class="cal_icon">
                  <img src="..\assets\img\ico-cal.png">
                </div>
                <div class="cal_details">
                  <small>Started {{ ico.icostartdate | date:'MMMM dd' }}{{ dateendstring }}</small>
                  <p *ngIf="expired">{{ expired }} </p>
                  <p *ngIf="!expired">{{ enddatecal }} </p>
                </div>
              </div>
              <div class="cal_holder">
                <div ngbDropdown class="dateModal">
                  <a *ngIf="userType===1" id="addschedules" ngbDropdownToggle href="javascript:void(0)" class="edit_icon" (click)="getLiveStream()">
                    <img src="..\assets\img\ico-edit-cal-hover.png" srcset="..\assets\img\ico-edit-cal-hover@2x.png 2x,
                        ..\assets\img\ico-edit-cal-hover@3x.png 3x" class="ico_edit_cal_hover" (click)="getLiveStream()">
                  </a>
                  <div ngbDropdownMenu aria-labelledby="addschedules">
                    <div class="drop_title">
                      <span> SCHEDULES </span>
                    </div>
                    <ul>
                      <li class="dropdown-item" *ngFor="let s of schedules">
                        <span> {{ s.livestreamdatetime }}
                          <a href="javascript:void(0)" (click)="DeleteLiveStream(s)">
                            <i class="fa fa-trash"></i>
                          </a>
                        </span>
                      </li>
                      <li class="divider" *ngIf="schedules.length > 0"></li>
                      <li class="chooseDate">
                        <form [formGroup]='scheduleform' (ngSubmit)="AddScheduleEventClick(scheduleform)">
                          <input type="number" formControlName="day" value="1" placeholder="Day" max="31" min="1" required>
                          <input type="number" formControlName="month" value="1" placeholder="Month" max="12" min="1" required>
                          <input type="text" formControlName="time" value="12:00" placeholder="Time" required>
                          <button type="submit" class="btn btn_add_date">Add</button>
                        </form>
                      </li>
                    </ul>
                  </div>
                </div>
                <p *ngIf="currentlivestreammonth">NEXT Live streaming ( {{ currentlivestreammonth }} )</p>
                <div class="datepicker-container">
                  <ngb-datepicker class="myDatePicker" [startDate]="startdate" [class.bg-primary]="selected" #dtp let (navigate)="date = $event.next"
                    firstDayOfWeek=7 [dayTemplate]="customDay"></ngb-datepicker>
                  <ng-template #customDay let-date="date" let-currentMonth="currentMonth" let-focused="focused">
                    <span [ngClass]="myClass(date)" [class.hidden]="date.month !== currentMonth" [class.] [class.weekend]="isSunday(date)" [class.focused]="focused"
                      [class.bg-primary]="selected" [class.text-muted]="disabled">
                      {{ date.day }}
                    </span>
                  </ng-template>
                </div>
                <a href="#">Download / add to your calendar</a>
              </div>
            </div>
            <div class="event_details">
              <div class="divider"></div>
              <div *ngIf="ico.email || ico.phone_number">
                <div class="contact_details">
                  <h5>CONTACT DETAILS</h5>
                  <div class="in_display" *ngIf="ico.phone_number">
                    <div class="ico_phone">
                      <img src="..\assets\img\ico-phone.png">
                    </div>
                    <div class="ico_phone_num">
                      + {{ ico.country_code }} {{ ico.phone_number }}
                    </div>
                  </div>
                  <div class="in_display" *ngIf="ico.email">
                    <div class="ico_email ">
                      <img src="..\assets\img\ico-email.png">
                    </div>
                    <div class="ico_email_add">
                      {{ ico.email }}
                    </div>
                  </div>
                </div>
                <div class="divider"></div>
              </div>
              <div *ngIf="ico.address || ico.city || ico.country">
                <div class="address_details">
                  <h5>ADDRESS</h5>
                  <div class="in_display">
                    <div class="ico_loca">
                      <img src="..\assets\img\ico-location.png" class="aln_img">
                    </div>
                    <div class="ico_add">
                      <div> {{ ico.address }}
                        <br> {{ ico.city }} {{ ico.country }}</div>
                    </div>
                  </div>
                </div>
                <div class="divider"></div>
              </div>
              <div *ngIf="ico.tokcenname">
                <div class="token">
                  <h5>TOKEN</h5>
                  <div>{{ ico.tokcenname }}</div>
                </div>
                <div class="divider"></div>
              </div>
              <div *ngIf="ico.website">
                <div class="website">
                  <h5>WEBSITE</h5>
                  <div>{{ ico.website }}</div>
                </div>
                <div class="divider"></div>
              </div>
              <div *ngIf="ico.whitepaper">
                <div class="WhitePaper">
                  <h5>WHITEPAPER</h5>
                  <a [attr.href]="ico.whitepaper" target="_blank">Open</a>
                </div>
                <div class="divider"></div>
              </div>
              <div *ngIf="ico.tokeytype">
                <div class="token">
                  <h5>TOKEN TYPE</h5>
                  <div>{{ ico.tokeytype }}</div>
                </div>
                <div class="divider"></div>
              </div>
              <div *ngIf="ico.pricepertoken">
                <div class="token">
                  <h5>PRICE PER TOKEN</h5>
                  <div>{{ ico.pricepertoken }}</div>
                </div>
                <div class="divider"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<ngx-spinner bdColor="rgba(251,244,244,0.8)" size="medium" color="#31d093" type="ball-clip-rotate-multiple"></ngx-spinner>